class Solution {
    // ENCODE
    // if input list is empty, return a sentinel char (ex: char 258) so decode can detect empty-list case
    // choose a separator char (ex: char 257) that will not appear inside any string
    // build one long string using a StringBuilder:
    //   for each word in strs:
    //     append the word
    //     append the separator
    // remove the final trailing separator
    // return the resulting string
    public String encode(List<String> strs) {

        if (strs.size() == 0) {
            return Character.toString((char) 258);
        }

        String separate = Character.toString((char) 257);
        StringBuilder sb = new StringBuilder();

        for (String s : strs) {
            sb.append(s);
            sb.append(separate);
        }

        // removing the trailing separator
        sb.deleteCharAt(sb.length() - 1);

        return sb.toString();
    }

    // DECODE
    // if the encoded string equals the sentinel char (ex: char 258), return an empty list
    // otherwise, split by the separator char (ex: char 257)
    // use split with limit -1 to keep empty strings in the result
    // return the resulting list
    public List<String> decode(String str) {

        if (str.equals(Character.toString((char) 258))) {
            return new ArrayList<>();
        }

        String separate = Character.toString((char) 257);
        return Arrays.asList(str.split(separate, -1));
    }
}
